<div class="page-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h1>{{isEditing ? 'Editar' : 'Nova'}} Notícia</h1>
            <p>{{isEditing ? 'Editar uma notícia existente' : 'Criar uma nova notícia no sistema'}}</p>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <form [formGroup]="newsForm" (ngSubmit)="onSubmit()">
                <div class="mb-3">
                    <label class="form-label">Título</label>
                    <input type="text" class="form-control" formControlName="title">
                    <div class="text-danger" *ngIf="newsForm.get('title')?.errors?.['required'] && newsForm.get('title')?.touched">
                        Título é obrigatório
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Conteúdo</label>
                    <textarea class="form-control" formControlName="content" rows="4"></textarea>
                    <div class="text-danger" *ngIf="newsForm.get('content')?.errors?.['required'] && newsForm.get('content')?.touched">
                        Conteúdo é obrigatório
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Autor</label>
                    <input type="text" class="form-control" formControlName="author">
                    <div class="text-danger" *ngIf="newsForm.get('author')?.errors?.['required'] && newsForm.get('author')?.touched">
                        Autor é obrigatório
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Categoria</label>
                    <select class="form-select" formControlName="category">
                        <option value="">Selecione uma categoria</option>
                        <option value="Tratamentos">Tratamentos</option>
                        <option value="Eventos">Eventos</option>
                        <option value="Saúde">Saúde</option>
                        <option value="Institucional">Institucional</option>
                    </select>
                    <div class="text-danger" *ngIf="newsForm.get('category')?.errors?.['required'] && newsForm.get('category')?.touched">
                        Categoria é obrigatória
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Data</label>
                    <input type="date" class="form-control" formControlName="date">
                    <div class="text-danger" *ngIf="newsForm.get('date')?.errors?.['required'] && newsForm.get('date')?.touched">
                        Data é obrigatória
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select" formControlName="status">
                        <option [ngValue]="true">Ativo</option>
                        <option [ngValue]="false">Inativo</option>
                    </select>
                </div>

                <div class="d-flex justify-content-end gap-2">
                    <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
                    <button type="submit" class="btn btn-primary" [disabled]="!newsForm.valid">
                        {{isEditing ? 'Atualizar' : 'Criar'}}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>